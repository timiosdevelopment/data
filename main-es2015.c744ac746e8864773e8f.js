(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"/CYB":function(n,t,e){"use strict";e.d(t,"a",(function(){return u}));var l=e("e1JD"),r=e("khYc"),o=e("reND");class u{constructor(n){this.accessor=n}static forRoot(){return{ngModule:u,providers:[o.a,{provide:l.c,useClass:r.a,multi:!0}]}}}},"/zah":function(n,t,e){"use strict";var l=e("U7oE");function r(n){return n.NGXS_OPTIONS_META||{}}function o(n){return"undefined"!==n&&null!=n}function u(n){const t=r(n),e=t.children||[],o=(a=t.defaults,JSON.parse(JSON.stringify(void 0===a?{}:a)));var a,s;if(e.length){if("object"!=typeof(s=o)||Array.isArray(s)||null===s)throw new Error(`${l.a.NGXS_DATA_CHILDREN_CONVERT}. Cannot convert ${o&&o.constructor?o.constructor.name:o} to PlainObject`);return e.reduce((n,t)=>{const e=r(t);if(!e.name)throw new Error(l.a.NGXS_DATA_STATE_NAME_NOT_FOUND);return n[e.name.toString()]=u(t),n},o)}return o}e.d(t,"b",(function(){return o})),e.d(t,"a",(function(){return u}))},0:function(n,t,e){n.exports=e("Ea2l")},BfEW:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));const l="NEED_SYNC_WITH_STORAGE"},Ea2l:function(n,t,e){"use strict";e.r(t);var l=e("8Y7J");class r{}var o=e("e1JD");class u{constructor(n){this.store=n,this.snapshot=this.store.select(n=>n)}ngOnInit(){console.log("[isDevMode]",Object(l.V)())}}var a=e("pMnS"),s=e("SVse"),i=e("iInd"),c=l.pb({encapsulation:2,styles:[],data:{}});function b(n){return l.Ib(2,[(n()(),l.rb(0,0,null,null,8,"div",[["class","panel"]],null,null,null,null,null)),(n()(),l.rb(1,0,null,null,0,"img",[["class","logo"],["src","https://habrastorage.org/webt/k7/ih/pc/k7ihpcg6w-jz-rzksmiyuip5_so.png"]],null,null,null,null,null)),(n()(),l.rb(2,0,null,null,6,"div",[["class","panel-content"]],null,null,null,null,null)),(n()(),l.rb(3,0,null,null,1,"h2",[],null,null,null,null,null)),(n()(),l.Gb(-1,null,["Store:"])),(n()(),l.rb(5,0,null,null,3,"pre",[],null,null,null,null,null)),(n()(),l.Gb(6,null,["",""])),l.Db(131072,s.b,[l.i]),l.Db(0,s.f,[]),(n()(),l.rb(9,0,null,null,17,"div",[["class","menu"]],null,null,null,null,null)),(n()(),l.Gb(-1,null,[" Examples: "])),(n()(),l.rb(11,0,null,null,3,"span",[],null,null,null,null,null)),(n()(),l.Gb(-1,null,["\u{1f680} "])),(n()(),l.rb(13,0,null,null,1,"a",[["class","link"],["href","https://stackblitz.io/github/ngxs-labs/data"],["target","_blank"]],null,null,null,null,null)),(n()(),l.Gb(-1,null,["Stackblitz"])),(n()(),l.rb(15,0,null,null,5,"span",[],null,null,null,null,null)),(n()(),l.Gb(-1,null,["\u{1f3c0} "])),(n()(),l.rb(17,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,t,e){var r=!0;return"click"===t&&(r=!1!==l.Bb(n,18).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&r),r}),null,null)),l.qb(18,671744,null,0,i.l,[i.k,i.a,s.i],{routerLink:[0,"routerLink"]},null),l.Cb(19,1),(n()(),l.Gb(-1,null,["CountState"])),(n()(),l.rb(21,0,null,null,5,"span",[],null,null,null,null,null)),(n()(),l.Gb(-1,null,["\u{1f9ed} "])),(n()(),l.rb(23,0,null,null,3,"a",[["class","link"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,t,e){var r=!0;return"click"===t&&(r=!1!==l.Bb(n,24).onClick(e.button,e.ctrlKey,e.metaKey,e.shiftKey)&&r),r}),null,null)),l.qb(24,671744,null,0,i.l,[i.k,i.a,s.i],{routerLink:[0,"routerLink"]},null),l.Cb(25,1),(n()(),l.Gb(-1,null,["TodoState"])),(n()(),l.rb(27,0,null,null,0,"br",[],null,null,null,null,null)),(n()(),l.rb(28,0,null,null,3,"div",[["class","container"]],null,null,null,null,null)),(n()(),l.rb(29,0,null,null,2,"div",[["class","content"]],null,null,null,null,null)),(n()(),l.rb(30,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),l.qb(31,212992,null,0,i.n,[i.b,l.N,l.k,[8,null],l.i],null,null)],(function(n,t){var e=n(t,19,0,"count");n(t,18,0,e);var l=n(t,25,0,"todo");n(t,24,0,l),n(t,31,0)}),(function(n,t){var e=t.component;n(t,6,0,l.Hb(t,6,0,l.Bb(t,8).transform(l.Hb(t,6,0,l.Bb(t,7).transform(e.snapshot))))),n(t,17,0,l.Bb(t,18).target,l.Bb(t,18).href),n(t,23,0,l.Bb(t,24).target,l.Bb(t,24).href)}))}function A(n){return l.Ib(0,[(n()(),l.rb(0,0,null,null,1,"app-root",[],null,null,null,b,c)),l.qb(1,114688,null,0,u,[o.h],null,null)],(function(n,t){n(t,1,0)}),null)}var d=l.nb("app-root",u,A,{},{},[]),h=e("cUpR"),f=e("s7LF"),p=e("Mrqg");const E=()=>Promise.all([e.e(1),e.e(7)]).then(e.bind(null,"cY3I")).then(n=>n.CountModuleNgFactory),g=()=>Promise.all([e.e(1),e.e(8)]).then(e.bind(null,"xG8Z")).then(n=>n.TodoModuleNgFactory);class S{}var y=e("ZArt"),N=e("khYc"),_=e("reND"),T=e("/CYB"),O=e("zh61"),v=l.ob(r,[u],(function(n){return l.zb([l.Ab(512,l.k,l.Z,[[8,[a.a,d]],[3,l.k],l.w]),l.Ab(5120,l.t,l.lb,[[3,l.t]]),l.Ab(4608,s.l,s.k,[l.t,[2,s.r]]),l.Ab(5120,l.hb,l.mb,[l.y]),l.Ab(5120,l.c,l.ib,[]),l.Ab(5120,l.r,l.jb,[]),l.Ab(5120,l.s,l.kb,[]),l.Ab(4608,h.b,h.k,[s.d]),l.Ab(6144,l.F,null,[h.b]),l.Ab(4608,h.e,h.g,[]),l.Ab(5120,h.c,(function(n,t,e,l,r,o,u,a){return[new h.i(n,t,e),new h.n(l),new h.m(r,o,u,a)]}),[s.d,l.y,l.A,s.d,s.d,h.e,l.ab,[2,h.f]]),l.Ab(4608,h.d,h.d,[h.c,l.y]),l.Ab(135680,h.l,h.l,[s.d]),l.Ab(4608,h.j,h.j,[h.d,h.l,l.c]),l.Ab(6144,l.D,null,[h.j]),l.Ab(6144,h.o,null,[h.l]),l.Ab(4608,l.L,l.L,[l.y]),l.Ab(4608,f.i,f.i,[]),l.Ab(5120,i.a,i.x,[i.k]),l.Ab(4608,i.d,i.d,[]),l.Ab(6144,i.f,null,[i.d]),l.Ab(135680,i.o,i.o,[i.k,l.v,l.j,l.q,i.f]),l.Ab(4608,i.e,i.e,[]),l.Ab(5120,i.C,i.t,[i.k,s.o,i.g]),l.Ab(5120,i.h,i.A,[i.y]),l.Ab(5120,l.b,(function(n,t){return[n,o.d.appBootstrapListenerFactory(t)]}),[i.h,p.e]),l.Ab(4608,o.a,o.a,[o.o,o.C]),l.Ab(1073742336,s.c,s.c,[]),l.Ab(1024,l.m,h.p,[]),l.Ab(1024,l.x,(function(){return[i.s()]}),[]),l.Ab(512,i.y,i.y,[l.q]),l.Ab(1024,l.d,(function(n,t){return[h.q(n),i.z(t)]}),[[2,l.x],i.y]),l.Ab(512,l.e,l.e,[[2,l.d]]),l.Ab(131584,l.g,l.g,[l.y,l.ab,l.q,l.m,l.k,l.e]),l.Ab(1073742336,l.f,l.f,[l.g]),l.Ab(1073742336,h.a,h.a,[[3,h.a]]),l.Ab(1073742336,f.h,f.h,[]),l.Ab(1073742336,f.c,f.c,[]),l.Ab(1024,i.r,i.v,[[3,i.k]]),l.Ab(512,i.q,i.c,[]),l.Ab(512,i.b,i.b,[]),l.Ab(256,i.g,{useHash:!0},[]),l.Ab(1024,s.i,i.u,[s.n,[2,s.a],i.g]),l.Ab(512,s.h,s.h,[s.i,s.n]),l.Ab(512,l.j,l.j,[]),l.Ab(512,l.v,l.I,[l.j,[2,l.J]]),l.Ab(1024,i.i,(function(){return[[{path:"",redirectTo:"count",pathMatch:"full"},{path:"count",loadChildren:E},{path:"todo",loadChildren:g}]]}),[]),l.Ab(1024,i.k,i.w,[l.g,i.q,i.b,s.h,l.q,l.v,l.j,i.i,i.g,[2,i.p],[2,i.j]]),l.Ab(1073742336,i.m,i.m,[[2,i.r],[2,i.k]]),l.Ab(1073742336,S,S,[]),l.Ab(256,o.d.ROOT_OPTIONS,{developmentMode:!1},[]),l.Ab(1024,o.t,o.d.ngxsConfigFactory,[o.d.ROOT_OPTIONS]),l.Ab(512,o.o,o.o,[]),l.Ab(512,o.x,o.x,[]),l.Ab(512,o.f,o.f,[]),l.Ab(256,y.d,void 0,[]),l.Ab(1024,y.a,y.e,[y.d]),l.Ab(1024,o.c,(function(n,t,e,l){return[new y.b(n,t),new N.a(e,l)]}),[y.a,l.q,l.A,l.q]),l.Ab(512,o.B,o.B,[[3,o.B],[2,o.c]]),l.Ab(512,o.u,o.I,[l.y,l.A]),l.Ab(512,o.C,o.C,[o.u]),l.Ab(512,o.y,o.y,[l.m,o.o,o.x,o.B,o.f,o.C]),l.Ab(256,o.s,l.V,[]),l.Ab(256,o.r,p.f,[]),l.Ab(512,o.E,o.E,[o.s,o.r]),l.Ab(512,o.D,o.D,[o.E,o.t]),l.Ab(512,o.A,o.A,[o.f,o.y,o.t,o.D]),l.Ab(512,o.z,o.z,[o.A]),l.Ab(1024,p.a,o.d.getInitialState,[]),l.Ab(512,o.w,o.w,[l.q,o.t,[3,o.w],o.o,o.x,o.z,[2,p.a]]),l.Ab(512,o.h,o.h,[o.f,o.A,o.t,o.C,[2,p.a]]),l.Ab(512,o.F,o.F,[o.h,o.t]),l.Ab(256,o.p,[],[]),l.Ab(512,p.e,p.e,[]),l.Ab(512,o.G,o.G,[o.A,o.z,p.e]),l.Ab(1073742336,o.v,o.v,[o.w,o.A,o.h,o.F,[2,o.p],o.t,o.G]),l.Ab(1073742336,y.c,y.c,[]),l.Ab(2048,p.d,null,[o.w]),l.Ab(2048,p.c,null,[o.z]),l.Ab(512,_.a,_.a,[l.q,p.d,p.c]),l.Ab(1073742336,T.a,T.a,[[4,_.a]]),l.Ab(1073742336,O.a,O.a,[]),l.Ab(1073742336,r,r,[]),l.Ab(256,l.Y,!0,[])])}));Object(l.R)(),h.h().bootstrapModuleFactory(v).catch(n=>console.log(n))},"U+rF":function(n,t){function e(n){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}))}e.keys=function(){return[]},e.resolve=e,n.exports=e,e.id="U+rF"},U7oE:function(n,t,e){"use strict";e.d(t,"a",(function(){return l})),e.d(t,"b",(function(){return r}));var l=function(n){return n.NGXS_PERSISTENCE_STATE="@Persistence should be add before decorator @State and @StateRepository",n.NGXS_DATA_STATE="@StateRepository should be add before decorator @State",n.NGXS_DATA_STATE_NAME_NOT_FOUND="State name not provided in class",n.NGXS_DATA_MODULE_EXCEPTION="Metadata not created \n Maybe you forgot to import the NgxsDataPluginModule\n Also, you cannot use this.ctx.* until the application is fully rendered \n (use by default ngxsOnInit(ctx: StateContext), or ngxsAfterBootstrap(ctx: StateContext) !!!",n.NGXS_DATA_STATE_DECORATOR="You forgot add decorator @StateRepository or initialize state!\n Example: NgxsModule.forRoot([ .. ]), or NgxsModule.forFeature([ .. ])",n.NGXS_DATA_STATIC_ACTION="Cannot support static methods with @action",n.NGXS_DATA_ACTION="@action can only decorate a method implementation",n.NGXS_DATA_ACTION_RETURN_TYPE="RECOMMENDATION: If you use asynchronous actions `@action({ async: true })`, the return result type should only be Observable or void instead",n.NGXS_PERSISTENCE_ENGINE="Not declare storage engine in `existingEngine` or not found after injecting by `useClass`",n.NGXS_PERSISTENCE_SERIALIZE="Error occurred while serializing the store value, value not updated.",n.NGXS_PERSISTENCE_DESERIALIZE="Error occurred while deserializing the store value, falling back to empty object.",n.NGXS_DATA_CHILDREN_CONVERT="Child states can only be added to an object",n}({});const r="NGXS_DATA_META"},j918:function(n,t,e){"use strict";e.d(t,"a",(function(){return r})),e.d(t,"b",(function(){return o}));var l=e("U7oE");function r(n){return n[l.b]||Object.defineProperty(n,l.b,{value:{stateMeta:null,operations:{}}}),o(n)}function o(n){return n[l.b]}},khYc:function(n,t,e){"use strict";e.d(t,"a",(function(){return c}));var l=e("e1JD"),r=e("SVse"),o=e("vkgz"),u=e("xgIS"),a=e("U7oE"),s=e("BfEW"),i=e("/zah");let c=(()=>{class n{constructor(t,e){this._platformId=t,this.injector=e,Object(r.p)(this._platformId)||Object(u.a)(window,"storage").subscribe(t=>{n.keys.has(t.key)&&this.store.dispatch({type:s.a})})}get store(){return this.injector.get(l.h,null)}get size(){return this.providers.size}get providers(){return n.providers}get entries(){return this.providers.entries()}static getProvidedKeys(){return Array.from(n.keys.keys())}static clear(){n.keys.clear(),n.providers.clear()}handle(t,e,u){if(0===this.size||Object(r.p)(this._platformId))return u(t,e);const c=Object(l.j)(e),b=c(l.b)||c(l.i);if(this.size>0&&(b||e.type===s.a))for(const[r]of this.entries){const e=this.exposeEngine(r),o=this.ensureKey(r),u=e.getItem(o);if(Object(i.b)(u))try{const a=this.deserialize(u);Object(i.b)(a)||r.nullable?(n.keys.set(o),t=Object(l.n)(t,r.path,a)):(e.removeItem(o),n.keys.delete(o))}catch(A){console.error(`${a.a.NGXS_PERSISTENCE_DESERIALIZE}:::${r.path}`)}}return u(t,e).pipe(Object(o.a)(e=>{for(const[o]of this.entries){const u=Object(l.m)(t,o.path),s=Object(l.m)(e,o.path);if(u!==s||b){const t=this.exposeEngine(o);try{const e=this.serialize(s,o),l=this.ensureKey(o);t.setItem(l,e),n.keys.set(l)}catch(r){console.error(`${a.a.NGXS_PERSISTENCE_SERIALIZE}:::${o.path}`)}}}}))}serialize(n,t){return JSON.stringify({lastChanged:(new Date).toISOString(),version:t.version,data:Object(i.b)(n)?n:null})}deserialize(n){const t=JSON.parse(n);if(t.lastChanged)return t.data;throw new Error("Not found lastChanged in meta")}ensureKey(n){return`${n.prefixKey}${n.path}`}exposeEngine(n){const t=n.existingEngine||this.injector.get(n.useClass,null);if(!t)throw new Error(`${a.a.NGXS_PERSISTENCE_ENGINE}:::${n.path}`);return t}}return n.providers=new Set,n.keys=new Map,n})()},reND:function(n,t,e){"use strict";e.d(t,"a",(function(){return a})),e("Mrqg");var l=e("8Y7J"),r=e("e1JD"),o=e("U7oE"),u=e("j918");let a=(()=>{class n{constructor(t,e,o){n.statesCachedMeta.clear(),n.store=t.get(r.h),n.ngZone=t.get(l.y),n.factory=e,n.context=o}static createStateContext(t){return n.context.createStateContext(t)}static ensureMappedState(t){if(!n.factory||!t)throw new Error(o.a.NGXS_DATA_MODULE_EXCEPTION);const e=(t.name?n.statesCachedMeta.get(t.name):null)||null;if(!e){const e=t.name?n.factory.states.find(n=>n.name===t.name):null;return e&&t.name&&n.statesCachedMeta.set(t.name,e),e}return e}static getRepositoryByInstance(n){const t=Object(u.b)((n||{}).constructor)||null;if(!t)throw new Error(o.a.NGXS_DATA_STATE_DECORATOR);return t}static createPayload(n,t){const e={},l=Array.from(n);return t.argumentsNames.forEach((n,t)=>{e[n]=l[t]}),e}}return n.store=null,n.context=null,n.factory=null,n.ngZone=null,n.statesCachedMeta=new Map,n})()},zh61:function(n,t,e){"use strict";e.d(t,"a",(function(){return l}));class l{}}},[[0,0,6]]]);